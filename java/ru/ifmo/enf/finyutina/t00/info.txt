Идея: заведём две кучи left и right, и int median. В median будет храниться сама медиана. В куче left числа, не превосходящие медианы. В куче right числа не меньше медианы. В куче left тогда наверху должно быть наибольшее число (создаём её с компаратором Collections.reverseOrder()). Теперь можно при необходимости двигать медиану на один элемент влево или вправо. Например чтобы подвинуть медиану вправо, кладем median в кучу left, и достаем новую median из кучи right. Осталось аккуратно разобрать случаи с добавлением при четном и нечетном количестве ранее добавленных элементов (куда двигать медиану и двигать ли вообще).

Сложность: при каждом вызове process() мы обращаемся к какой-либо из куч 1 либо 3 раза. Т.е. O(logN) операций на каждый process(), где N - количество уже добавленных элементов.
